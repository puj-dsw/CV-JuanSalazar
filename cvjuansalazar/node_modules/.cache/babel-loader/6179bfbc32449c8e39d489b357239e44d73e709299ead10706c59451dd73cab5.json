{"ast":null,"code":"var _jsxFileName = \"/Users/juansalazar/PFWA/Personal/Tux_/ntwebapp/personalwebapp/src/components/visualization1.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst D3Visualization = () => {\n  _s();\n  const svgRef = useRef(null);\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = +svg.attr(\"width\");\n    const height = +svg.attr(\"height\");\n    fetch('data.json').then(response => response.json()).then(data => {\n      const nodes = data.nodes;\n      const links = data.links;\n      const simulation = d3.forceSimulation(nodes).force(\"link\", d3.forceLink(links).id(d => d.id)).force(\"charge\", d3.forceManyBody().strength(-1)).force(\"center\", d3.forceCenter(width / 2, height / 2));\n      const link = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(links).enter().append(\"line\");\n      const node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(nodes).enter().append(\"circle\").attr(\"r\", function (d) {\n        return d.size;\n      }).attr(\"fill\", function (d) {\n        return d.color;\n      }).on(\"click\", function (d) {\n        window.open(d.link, \"_blank\");\n      });\n      simulation.on(\"tick\", () => {\n        link.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n        node.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n      });\n      let draggedNode = null;\n      d3.select(\"body\").on(\"mousemove\", function () {\n        if (draggedNode) {\n          draggedNode.fx = d3.event.x;\n          draggedNode.fy = d3.event.y;\n        }\n      });\n      node.call(d3.drag().on(\"start\", d => {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n        draggedNode = d;\n      }).on(\"drag\", d => {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }).on(\"end\", d => {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n        draggedNode = null;\n      }));\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef,\n    width: 800,\n    height: 600\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 13\n  }, this);\n};\n_s(D3Visualization, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = D3Visualization;\nexport default D3Visualization;\nvar _c;\n$RefreshReg$(_c, \"D3Visualization\");","map":{"version":3,"names":["React","useEffect","useRef","d3","D3Visualization","svgRef","svg","select","current","width","attr","height","fetch","then","response","json","data","nodes","links","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","strength","forceCenter","link","append","selectAll","enter","node","size","color","on","window","open","source","x","y","target","draggedNode","fx","event","fy","call","drag","active","alphaTarget","restart"],"sources":["/Users/juansalazar/PFWA/Personal/Tux_/ntwebapp/personalwebapp/src/components/visualization1.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nconst D3Visualization = () => {\n    const svgRef = useRef(null);\n\n    useEffect(() => {\n        const svg = d3.select(svgRef.current);\n        const width = +svg.attr(\"width\");\n        const height = +svg.attr(\"height\");\n\n        fetch('data.json')\n            .then(response => response.json())\n            .then(data => {\n                const nodes = data.nodes;\n                const links = data.links;\n\n                const simulation = d3.forceSimulation(nodes)\n                    .force(\"link\", d3.forceLink(links).id(d => d.id))\n                    .force(\"charge\", d3.forceManyBody().strength(-1))\n                    .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n                const link = svg.append(\"g\")\n                    .attr(\"class\", \"links\")\n                    .selectAll(\"line\")\n                    .data(links)\n                    .enter().append(\"line\");\n\n                const node = svg.append(\"g\")\n                    .attr(\"class\", \"nodes\")\n                    .selectAll(\"circle\")\n                    .data(nodes)\n                    .enter().append(\"circle\")\n                    .attr(\"r\", function (d) { return d.size; })\n                    .attr(\"fill\", function (d) { return d.color; })\n                    .on(\"click\", function (d) {\n                        window.open(d.link, \"_blank\");\n                    });\n\n                simulation.on(\"tick\", () => {\n                    link\n                        .attr(\"x1\", d => d.source.x)\n                        .attr(\"y1\", d => d.source.y)\n                        .attr(\"x2\", d => d.target.x)\n                        .attr(\"y2\", d => d.target.y);\n\n                    node\n                        .attr(\"cx\", d => d.x)\n                        .attr(\"cy\", d => d.y);\n                });\n                let draggedNode = null;\n\n                d3.select(\"body\").on(\"mousemove\", function () {\n                    if (draggedNode) {\n                        draggedNode.fx = d3.event.x;\n                        draggedNode.fy = d3.event.y;\n                    }\n                });\n\n                node.call(d3.drag()\n                    .on(\"start\", d => {\n                        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n                        d.fx = d.x;\n                        d.fy = d.y;\n                        draggedNode = d;\n                    })\n                    .on(\"drag\", d => {\n                        d.fx = d3.event.x;\n                        d.fy = d3.event.y;\n                    })\n                    .on(\"end\", d => {\n                        if (!d3.event.active) simulation.alphaTarget(0);\n                        d.fx = null;\n                        d.fy = null;\n                        draggedNode = null;\n                    })\n                );\n\n            });\n    }, []);\n\n    return (<svg ref={svgRef} width={800} height={600} />\n    );\n};\nexport default D3Visualization;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}